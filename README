/Users/dcadena/projects/urlshortener


pipenv install flask

dcadena@USL002438:~/projects/urlshortener$ pipenv install flask
Creating a virtualenv for this project…
Pipfile: /Users/dcadena/projects/urlshortener/Pipfile
Using /usr/local/Cellar/pipenv/2018.11.26_4/libexec/bin/python3.8 (3.8.2) to create virtualenv…
⠏ Creating virtual environment...created virtual environment CPython3.8.2.final.0-64 in 567ms
  creator CPython3Posix(dest=/Users/dcadena/.local/share/virtualenvs/urlshortener-pL91CxxJ, clear=False, global=False)
  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/Users/dcadena/Library/Application Support/virtualenv/seed-app-data/v1)
  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator

✔ Successfully created virtual environment! 
Virtualenv location: /Users/dcadena/.local/share/virtualenvs/urlshortener-pL91CxxJ
Creating a Pipfile for this project…
Installing flask…
Adding flask to Pipfile's [packages]…
✔ Installation Succeeded 
Pipfile.lock not found, creating…
Locking [dev-packages] dependencies…
Locking [packages] dependencies…
✔ Success! 
Updated Pipfile.lock (ac8e32)!
Installing dependencies from Pipfile.lock (ac8e32)…
  🐍   ▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉▉ 6/6 — 00:00:03
To activate this project's virtualenv, run pipenv shell.
Alternatively, run a command inside the virtualenv with pipenv run.
dcadena@USL002438:~/projects/urlshortener$ 


pipenv shell
 pipenv install python-dotenv

create .env
create .flaskenv


create url_shortener folder
create __init__
create extensions.py
create models.py
create settings.py


 pipenv install flask-sqlalchemy   7minute mark

 create extensions.py at 7:14 minute mark 


build models.py
create class db.Model

create routes.py


##flask run @ 20:36

### fixed my issue

index.html --> spaces in words submit

### back online

adding what to do with routes


confirming initial page can display (index.html)

So now we need to process this data.
Meaning, take the form data, add it to the database and return the shortened URL

21.12 mark (youtube video)

updated routes.py for short.route('/add_link')

pass-in origianl link and generate short link and add to db

23:43 - create database inside sqlite

open python
>>> from url_shortener import create_app
>>> from url_shortener.extensions import db
>>> db.create_all(app=create_app())

now this creates the database --> db.sqlite3


exit python

flask run

test --

error -- Link not defined
	resolve -- import 


testing if entry created in database

sqlite3 url_shortener/db.sqlite3 

sqlite> select * from link;
1|http://yahoo.com|TRJ|0|2020-05-12 13:06:13.678481


create 2nd template link_added.html
to return values (old and new)

testing -- 29:39 mm

update HTML to return friendlier URL


## still add some enhancements



@ 31:40 -->
modify routes.py for short_url
Link.query




another typo  -->
    return redirect(link.original_url)  


####

32:41 -->
add visit logic into routes -->
    link.visits = link.visits + 1
    db.session.commit()

  output 

34|http://yahoo.com|LcEO|0|2020-05-12 15:56:17.502433
35|http://cnn.com|cHOa|3|2020-05-12 15:57:09.834826
36|http://cnn.com|Q6mO|0|2020-05-12 16:02:01.502162


add show stats route
also add stats.html

show original URL
show short URL
show visits



http://127.0.0.1:5000/stats   
broke!!!!


changing stats.html

{% for link in links %}

Original URl: {{ link.original_url }} -
Short URL: {{ link.short_url }}
Visits: {{ link.visits }}
<br />
{% endfor %}

## another typo on stats.html
too many spaces (above example)

@36:13 mark

self - added 4004.html 
modfied render_template



## break to get into GIT ##


## back to starter mode..

@ 36:49
create the process for using 

switch branches


create auth.py
import auth into routes

@39:52
routes.py -->
	from .auth import requires_auth

	works!!

	
Making stats page prettier 

	copying starter template from bulma !!

https://bulma.io/documentation/elements/table/

update stats
update add_link
update index.html (s.html)


